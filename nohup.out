2025-04-13 22:34:37,727 - DEBUG - Package 'utils' loaded.
2025-04-13 22:34:38,050 - INFO - Loaded exempt commands: ['trivia', 'ping', 'help']
2025-04-13 22:34:38,052 - WARNING - PyNaCl is not installed, voice will NOT be supported
2025-04-13 22:34:38,057 - INFO - getting database info
2025-04-13 22:34:38,063 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:38,063 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,063 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:34:38,076 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b577890>
2025-04-13 22:34:38,076 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:34:38,092 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a71e9f0>
2025-04-13 22:34:38,092 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,092 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,092 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,092 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,092 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,263 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'58'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'oahECRBjLvRNook49PkR3DMjM6UlSvhgfbXwzVSBvMTxA1DFOTWwaw==')])
2025-04-13 22:34:38,263 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:38,263 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,264 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,264 - DEBUG - response_closed.started
2025-04-13 22:34:38,264 - DEBUG - response_closed.complete
2025-04-13 22:34:38,264 - DEBUG - Response status code: 200
2025-04-13 22:34:38,264 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '58', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'oahECRBjLvRNook49PkR3DMjM6UlSvhgfbXwzVSBvMTxA1DFOTWwaw=='})
2025-04-13 22:34:38,264 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f0f16f3e6f41f5ab73f30b987644e71d58bc8d6a9658273ad28808ace82e74ce","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=86b73e12ad4ad99acba5bfa2f6c6e41c731b3c43f040fe30912d944e491780e8","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=424f865070bf855f68fa93bb25e2f7cd262bb207305bd464e058bb456ed54de8","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=82ef95022dd744f9f9f718f63e6c59b718651989f0a2e63c789531e4ac1bd15d","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:38,265 - INFO - finished getting database info
2025-04-13 22:34:38,265 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:38,283 - INFO - getting database info
2025-04-13 22:34:38,291 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:38,291 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,292 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,292 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,292 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,292 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,292 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,383 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'52'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Iy4g7PYuPh32PxDqC-DpHJm-WlLkYV2uXRtWV3kk-NnssAZa37IdiA==')])
2025-04-13 22:34:38,383 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:38,383 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,383 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,384 - DEBUG - response_closed.started
2025-04-13 22:34:38,384 - DEBUG - response_closed.complete
2025-04-13 22:34:38,384 - DEBUG - Response status code: 200
2025-04-13 22:34:38,384 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '52', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Iy4g7PYuPh32PxDqC-DpHJm-WlLkYV2uXRtWV3kk-NnssAZa37IdiA=='})
2025-04-13 22:34:38,384 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f0f16f3e6f41f5ab73f30b987644e71d58bc8d6a9658273ad28808ace82e74ce","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=86b73e12ad4ad99acba5bfa2f6c6e41c731b3c43f040fe30912d944e491780e8","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=424f865070bf855f68fa93bb25e2f7cd262bb207305bd464e058bb456ed54de8","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=82ef95022dd744f9f9f718f63e6c59b718651989f0a2e63c789531e4ac1bd15d","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:38,385 - INFO - finished getting database info
2025-04-13 22:34:38,386 - DEBUG - Retrieved qotd_channels collection: qotd_channels
2025-04-13 22:34:38,387 - INFO - creating iterator on 'qotd_channels'
2025-04-13 22:34:38,387 - INFO - finished creating iterator on 'qotd_channels'
2025-04-13 22:34:38,387 - INFO - command=find on 'qotd_channels'
2025-04-13 22:34:38,387 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/qotd_channels
2025-04-13 22:34:38,387 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,387 - DEBUG - Request payload: {'find': {}}
2025-04-13 22:34:38,388 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:34:38,430 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b5add90>
2025-04-13 22:34:38,430 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:34:38,486 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b577d10>
2025-04-13 22:34:38,487 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:38,487 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,487 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:38,487 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,487 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:38,550 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'46'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:38,550 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/qotd_channels "HTTP/1.1 200 OK"
2025-04-13 22:34:38,550 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:38,550 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,550 - DEBUG - response_closed.started
2025-04-13 22:34:38,550 - DEBUG - response_closed.complete
2025-04-13 22:34:38,550 - DEBUG - Response status code: 200
2025-04-13 22:34:38,550 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '46', 'connection': 'keep-alive'})
2025-04-13 22:34:38,550 - DEBUG - Response text: {"data":{"documents":[],"nextPageState":null}}
2025-04-13 22:34:38,550 - INFO - finished command=find on 'qotd_channels'
2025-04-13 22:34:38,550 - DEBUG - Loaded QOTD schedules: {}
2025-04-13 22:34:38,559 - INFO - getting database info
2025-04-13 22:34:38,565 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:38,565 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,565 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,565 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,565 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,565 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,565 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,660 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Fm0hj8XE5f0i95sOjPMXGDMRDwHAZSQAIXxf0n-LFk8zTFCiq-olKw==')])
2025-04-13 22:34:38,660 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:38,660 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,660 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,660 - DEBUG - response_closed.started
2025-04-13 22:34:38,660 - DEBUG - response_closed.complete
2025-04-13 22:34:38,660 - DEBUG - Response status code: 200
2025-04-13 22:34:38,660 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Fm0hj8XE5f0i95sOjPMXGDMRDwHAZSQAIXxf0n-LFk8zTFCiq-olKw=='})
2025-04-13 22:34:38,661 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f0f16f3e6f41f5ab73f30b987644e71d58bc8d6a9658273ad28808ace82e74ce","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=86b73e12ad4ad99acba5bfa2f6c6e41c731b3c43f040fe30912d944e491780e8","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=424f865070bf855f68fa93bb25e2f7cd262bb207305bd464e058bb456ed54de8","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=82ef95022dd744f9f9f718f63e6c59b718651989f0a2e63c789531e4ac1bd15d","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:38,662 - INFO - finished getting database info
2025-04-13 22:34:38,662 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:38,674 - INFO - getting database info
2025-04-13 22:34:38,680 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:38,680 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,680 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,680 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,680 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,681 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,681 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:38,769 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'51'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'b6JLyKyJi86PM7xQVBfmqo8SpHlSN0NT5FPIg9oLblxj862SSCkXBw==')])
2025-04-13 22:34:38,769 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:38,769 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:38,816 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,816 - DEBUG - response_closed.started
2025-04-13 22:34:38,816 - DEBUG - response_closed.complete
2025-04-13 22:34:38,816 - DEBUG - Response status code: 200
2025-04-13 22:34:38,816 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '51', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'b6JLyKyJi86PM7xQVBfmqo8SpHlSN0NT5FPIg9oLblxj862SSCkXBw=='})
2025-04-13 22:34:38,816 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f0f16f3e6f41f5ab73f30b987644e71d58bc8d6a9658273ad28808ace82e74ce","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=86b73e12ad4ad99acba5bfa2f6c6e41c731b3c43f040fe30912d944e491780e8","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=424f865070bf855f68fa93bb25e2f7cd262bb207305bd464e058bb456ed54de8","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033438Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=82ef95022dd744f9f9f718f63e6c59b718651989f0a2e63c789531e4ac1bd15d","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:38,817 - INFO - finished getting database info
2025-04-13 22:34:38,817 - DEBUG - Retrieved bot_status_channels collection: bot_status_channels
2025-04-13 22:34:38,819 - INFO - creating iterator on 'bot_status_channels'
2025-04-13 22:34:38,819 - INFO - finished creating iterator on 'bot_status_channels'
2025-04-13 22:34:38,819 - INFO - command=find on 'bot_status_channels'
2025-04-13 22:34:38,819 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels
2025-04-13 22:34:38,819 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:38,819 - DEBUG - Request payload: {'find': {}}
2025-04-13 22:34:38,819 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:38,820 - DEBUG - send_request_headers.complete
2025-04-13 22:34:38,820 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:38,820 - DEBUG - send_request_body.complete
2025-04-13 22:34:38,820 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:38,868 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:38 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'156'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:38,868 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels "HTTP/1.1 200 OK"
2025-04-13 22:34:38,869 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:38,869 - DEBUG - receive_response_body.complete
2025-04-13 22:34:38,869 - DEBUG - response_closed.started
2025-04-13 22:34:38,869 - DEBUG - response_closed.complete
2025-04-13 22:34:38,869 - DEBUG - Response status code: 200
2025-04-13 22:34:38,869 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:38 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '156', 'connection': 'keep-alive'})
2025-04-13 22:34:38,869 - DEBUG - Response text: {"data":{"documents":[{"_id":"d59a1747-3631-4b9c-9a17-4736310b9c69","guild_id":1203206010269859850,"channel_id":1285660534196273263}],"nextPageState":null}}
2025-04-13 22:34:38,869 - INFO - finished command=find on 'bot_status_channels'
2025-04-13 22:34:38,873 - DEBUG - on_ready has successfully been registered as an event
2025-04-13 22:34:38,873 - DEBUG - on_guild_join has successfully been registered as an event
2025-04-13 22:34:38,873 - DEBUG - on_guild_remove has successfully been registered as an event
2025-04-13 22:34:38,873 - DEBUG - on_command_error has successfully been registered as an event
2025-04-13 22:34:38,874 - DEBUG - Using selector: KqueueSelector
[2025-04-13 22:34:38] [INFO    ] discord.client: logging in using static token
2025-04-13 22:34:38,874 - INFO - logging in using static token
 * Serving Flask app 'utils.keep_alive'
 * Debug mode: off
2025-04-13 22:34:38,883 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.1.103:8080
2025-04-13 22:34:38,883 - INFO - [33mPress CTRL+C to quit[0m
[2025-04-13 22:34:39] [INFO    ] discord.gateway: Shard ID None has connected to Gateway (Session ID: 278e68f69e90d700d9afa19e699744bd).
2025-04-13 22:34:39,558 - INFO - Shard ID None has connected to Gateway (Session ID: 278e68f69e90d700d9afa19e699744bd).
2025-04-13 22:34:41,565 - INFO - ðŸ¤– SamosaBot Version: 1.1.0
2025-04-13 22:34:41,566 - INFO - Logged in as SamosaBotNonProd#8224
2025-04-13 22:34:41,567 - DEBUG - Package 'cogs' loaded.
2025-04-13 22:34:41,570 - DEBUG - Package 'games' loaded.
2025-04-13 22:34:41,580 - INFO - VerificationCog initialized
2025-04-13 22:34:41,580 - INFO - Loading VerificationCog...
2025-04-13 22:34:41,586 - INFO - getting database info
2025-04-13 22:34:41,592 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:41,592 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:41,592 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:41,592 - DEBUG - send_request_headers.complete
2025-04-13 22:34:41,592 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:41,592 - DEBUG - send_request_body.complete
2025-04-13 22:34:41,592 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:41,693 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:41 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'SRjB3buxBWuRiNGPo3ycYWkKWNTUQzgjJMBlOqepncsDYGXzBGIuYg==')])
2025-04-13 22:34:41,694 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:41,695 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:41,695 - DEBUG - receive_response_body.complete
2025-04-13 22:34:41,695 - DEBUG - response_closed.started
2025-04-13 22:34:41,696 - DEBUG - response_closed.complete
2025-04-13 22:34:41,696 - DEBUG - Response status code: 200
2025-04-13 22:34:41,696 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:41 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'SRjB3buxBWuRiNGPo3ycYWkKWNTUQzgjJMBlOqepncsDYGXzBGIuYg=='})
2025-04-13 22:34:41,696 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d21dc14fd6437f110fcece260922198b847993bfe654984a4ca21ad0d1994487","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ebba6f831fc2f1ce735388717b805194bf7a766bb9942d61edfba119cd09cb1d","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=c0b63b8db4ac4b61716df5532924d33183b96aad16faafd9465c0534674a9366","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=6f7099dcb16480188a5daec7e7110a9ff404cb1469258c828cc595a7b080e81f","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:41,698 - INFO - finished getting database info
2025-04-13 22:34:41,698 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:41,713 - INFO - getting database info
2025-04-13 22:34:41,721 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:41,721 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:41,721 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:41,722 - DEBUG - send_request_headers.complete
2025-04-13 22:34:41,722 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:41,722 - DEBUG - send_request_body.complete
2025-04-13 22:34:41,722 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:41,814 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:41 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'42'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'T1MC_u7-41hwnDb4WDpsE5oMdPZYNb4nWdWbFsJnh5kg5mjGtSXynQ==')])
2025-04-13 22:34:41,814 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:41,814 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:41,814 - DEBUG - receive_response_body.complete
2025-04-13 22:34:41,814 - DEBUG - response_closed.started
2025-04-13 22:34:41,814 - DEBUG - response_closed.complete
2025-04-13 22:34:41,815 - DEBUG - Response status code: 200
2025-04-13 22:34:41,815 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:41 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '42', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'T1MC_u7-41hwnDb4WDpsE5oMdPZYNb4nWdWbFsJnh5kg5mjGtSXynQ=='})
2025-04-13 22:34:41,815 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d21dc14fd6437f110fcece260922198b847993bfe654984a4ca21ad0d1994487","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ebba6f831fc2f1ce735388717b805194bf7a766bb9942d61edfba119cd09cb1d","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=c0b63b8db4ac4b61716df5532924d33183b96aad16faafd9465c0534674a9366","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033441Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=6f7099dcb16480188a5daec7e7110a9ff404cb1469258c828cc595a7b080e81f","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:41,817 - INFO - finished getting database info
2025-04-13 22:34:41,817 - DEBUG - Retrieved qotd_channels collection: qotd_channels
2025-04-13 22:34:41,819 - INFO - creating iterator on 'qotd_channels'
2025-04-13 22:34:41,819 - INFO - finished creating iterator on 'qotd_channels'
2025-04-13 22:34:41,819 - INFO - command=find on 'qotd_channels'
2025-04-13 22:34:41,819 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/qotd_channels
2025-04-13 22:34:41,819 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:41,819 - DEBUG - Request payload: {'find': {}}
2025-04-13 22:34:41,820 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:41,820 - DEBUG - send_request_headers.complete
2025-04-13 22:34:41,820 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:41,820 - DEBUG - send_request_body.complete
2025-04-13 22:34:41,820 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:41,890 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:41 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'46'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:41,891 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/qotd_channels "HTTP/1.1 200 OK"
2025-04-13 22:34:41,891 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:41,891 - DEBUG - receive_response_body.complete
2025-04-13 22:34:41,891 - DEBUG - response_closed.started
2025-04-13 22:34:41,892 - DEBUG - response_closed.complete
2025-04-13 22:34:41,892 - DEBUG - Response status code: 200
2025-04-13 22:34:41,892 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:41 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '46', 'connection': 'keep-alive'})
2025-04-13 22:34:41,892 - DEBUG - Response text: {"data":{"documents":[],"nextPageState":null}}
2025-04-13 22:34:41,892 - INFO - finished command=find on 'qotd_channels'
2025-04-13 22:34:41,892 - DEBUG - Loaded QOTD schedules: {}
2025-04-13 22:34:41,906 - INFO - getting database info
2025-04-13 22:34:41,916 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:41,916 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:41,917 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:41,917 - DEBUG - send_request_headers.complete
2025-04-13 22:34:41,917 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:41,917 - DEBUG - send_request_body.complete
2025-04-13 22:34:41,917 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,074 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'45'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'c0-ffKp4o-eVhhvrfQQLSTlu7h3KM8pi7mGRM-mDiYRIn9-4x-mWJQ==')])
2025-04-13 22:34:42,075 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,075 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,075 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,076 - DEBUG - response_closed.started
2025-04-13 22:34:42,076 - DEBUG - response_closed.complete
2025-04-13 22:34:42,076 - DEBUG - Response status code: 200
2025-04-13 22:34:42,076 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '45', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'c0-ffKp4o-eVhhvrfQQLSTlu7h3KM8pi7mGRM-mDiYRIn9-4x-mWJQ=='})
2025-04-13 22:34:42,076 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d42cc0caf9b98b79e94d84d323a403a6a87f104356dbafa9f476592106e24f4c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a8d09c9917ebee7335fe4c04ab37bb129688a99dce1038b6fbdf640f24e0e56b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4b8a20500a5fbb4ce24bc89cf498fcf050935d543af593c11511ad23ba09db42","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e84ae12bcc113afc8cc11e612e11b7549967a5c780cbee56723bd15d787a3f04","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,078 - INFO - finished getting database info
2025-04-13 22:34:42,078 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:42,096 - INFO - getting database info
2025-04-13 22:34:42,105 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:42,105 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,105 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,105 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,105 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,105 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,105 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,196 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'52'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'_kQh5Jt4g9a_vyE6SBkjirkHunBt6gOvWgiitWZMmiaCTwRzhVzN_Q==')])
2025-04-13 22:34:42,197 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,197 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,197 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,198 - DEBUG - response_closed.started
2025-04-13 22:34:42,198 - DEBUG - response_closed.complete
2025-04-13 22:34:42,198 - DEBUG - Response status code: 200
2025-04-13 22:34:42,198 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '52', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '_kQh5Jt4g9a_vyE6SBkjirkHunBt6gOvWgiitWZMmiaCTwRzhVzN_Q=='})
2025-04-13 22:34:42,198 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d42cc0caf9b98b79e94d84d323a403a6a87f104356dbafa9f476592106e24f4c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a8d09c9917ebee7335fe4c04ab37bb129688a99dce1038b6fbdf640f24e0e56b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4b8a20500a5fbb4ce24bc89cf498fcf050935d543af593c11511ad23ba09db42","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e84ae12bcc113afc8cc11e612e11b7549967a5c780cbee56723bd15d787a3f04","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,200 - INFO - finished getting database info
2025-04-13 22:34:42,200 - DEBUG - Retrieved bot_status_channels collection: bot_status_channels
2025-04-13 22:34:42,201 - INFO - creating iterator on 'bot_status_channels'
2025-04-13 22:34:42,202 - INFO - finished creating iterator on 'bot_status_channels'
2025-04-13 22:34:42,202 - INFO - command=find on 'bot_status_channels'
2025-04-13 22:34:42,202 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels
2025-04-13 22:34:42,202 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,202 - DEBUG - Request payload: {'find': {}}
2025-04-13 22:34:42,202 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:42,202 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,202 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:42,202 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,202 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:42,251 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'156'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:42,252 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels "HTTP/1.1 200 OK"
2025-04-13 22:34:42,252 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:42,253 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,253 - DEBUG - response_closed.started
2025-04-13 22:34:42,253 - DEBUG - response_closed.complete
2025-04-13 22:34:42,253 - DEBUG - Response status code: 200
2025-04-13 22:34:42,253 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '156', 'connection': 'keep-alive'})
2025-04-13 22:34:42,253 - DEBUG - Response text: {"data":{"documents":[{"_id":"d59a1747-3631-4b9c-9a17-4736310b9c69","guild_id":1203206010269859850,"channel_id":1285660534196273263}],"nextPageState":null}}
2025-04-13 22:34:42,253 - INFO - finished command=find on 'bot_status_channels'
2025-04-13 22:34:42,254 - DEBUG - [DEBUG] Loaded QOTD schedules: {}
2025-04-13 22:34:42,254 - DEBUG - [DEBUG] Loaded bot status channels: {1203206010269859850: 1285660534196273263}
2025-04-13 22:34:42,261 - INFO - getting database info
2025-04-13 22:34:42,267 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:42,267 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,267 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,267 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,267 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,267 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,267 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,363 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'50'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Ykbv9AazxmeTCOqxCYA2PCe0jDonU4BDmV-H4BBr8UPn7TJRpnlZfA==')])
2025-04-13 22:34:42,363 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,363 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,363 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,363 - DEBUG - response_closed.started
2025-04-13 22:34:42,363 - DEBUG - response_closed.complete
2025-04-13 22:34:42,364 - DEBUG - Response status code: 200
2025-04-13 22:34:42,364 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '50', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Ykbv9AazxmeTCOqxCYA2PCe0jDonU4BDmV-H4BBr8UPn7TJRpnlZfA=='})
2025-04-13 22:34:42,364 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d42cc0caf9b98b79e94d84d323a403a6a87f104356dbafa9f476592106e24f4c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a8d09c9917ebee7335fe4c04ab37bb129688a99dce1038b6fbdf640f24e0e56b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4b8a20500a5fbb4ce24bc89cf498fcf050935d543af593c11511ad23ba09db42","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e84ae12bcc113afc8cc11e612e11b7549967a5c780cbee56723bd15d787a3f04","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,365 - INFO - finished getting database info
2025-04-13 22:34:42,366 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:42,382 - INFO - getting database info
2025-04-13 22:34:42,387 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:42,387 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,388 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,388 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,388 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,388 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,388 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,557 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'56'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'VZ9ExOhEMz8F9wC0MAjPkXR7QZmk1vc2gTWm6jb35CcAna6vuwaSYw==')])
2025-04-13 22:34:42,558 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,558 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,558 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,558 - DEBUG - response_closed.started
2025-04-13 22:34:42,558 - DEBUG - response_closed.complete
2025-04-13 22:34:42,559 - DEBUG - Response status code: 200
2025-04-13 22:34:42,559 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '56', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'VZ9ExOhEMz8F9wC0MAjPkXR7QZmk1vc2gTWm6jb35CcAna6vuwaSYw=='})
2025-04-13 22:34:42,559 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d42cc0caf9b98b79e94d84d323a403a6a87f104356dbafa9f476592106e24f4c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a8d09c9917ebee7335fe4c04ab37bb129688a99dce1038b6fbdf640f24e0e56b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4b8a20500a5fbb4ce24bc89cf498fcf050935d543af593c11511ad23ba09db42","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e84ae12bcc113afc8cc11e612e11b7549967a5c780cbee56723bd15d787a3f04","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,560 - INFO - finished getting database info
2025-04-13 22:34:42,560 - DEBUG - Retrieved bot_status_channels collection: bot_status_channels
2025-04-13 22:34:42,562 - INFO - creating iterator on 'bot_status_channels'
2025-04-13 22:34:42,562 - INFO - finished creating iterator on 'bot_status_channels'
2025-04-13 22:34:42,562 - INFO - command=find on 'bot_status_channels'
2025-04-13 22:34:42,562 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels
2025-04-13 22:34:42,562 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,562 - DEBUG - Request payload: {'find': {}}
2025-04-13 22:34:42,562 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:42,563 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,563 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:42,563 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,563 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:42,611 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'156'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:42,612 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/bot_status_channels "HTTP/1.1 200 OK"
2025-04-13 22:34:42,612 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:42,612 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,612 - DEBUG - response_closed.started
2025-04-13 22:34:42,612 - DEBUG - response_closed.complete
2025-04-13 22:34:42,612 - DEBUG - Response status code: 200
2025-04-13 22:34:42,612 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '156', 'connection': 'keep-alive'})
2025-04-13 22:34:42,612 - DEBUG - Response text: {"data":{"documents":[{"_id":"d59a1747-3631-4b9c-9a17-4736310b9c69","guild_id":1203206010269859850,"channel_id":1285660534196273263}],"nextPageState":null}}
2025-04-13 22:34:42,612 - INFO - finished command=find on 'bot_status_channels'
2025-04-13 22:34:42,615 - DEBUG - [DEBUG] Synced 10 slash commands globally
2025-04-13 22:34:42,762 - INFO - getting database info
2025-04-13 22:34:42,770 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:42,770 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,770 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,770 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,770 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,770 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,770 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,860 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:42 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'50'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'SHuaw7XoeJnd3dVPO0VR79o4l22NWwNZFzppwVvyOyaWUeHTxDlcaQ==')])
2025-04-13 22:34:42,860 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,860 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,860 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,860 - DEBUG - response_closed.started
2025-04-13 22:34:42,860 - DEBUG - response_closed.complete
2025-04-13 22:34:42,860 - DEBUG - Response status code: 200
2025-04-13 22:34:42,860 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:42 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '50', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'SHuaw7XoeJnd3dVPO0VR79o4l22NWwNZFzppwVvyOyaWUeHTxDlcaQ=='})
2025-04-13 22:34:42,860 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=d42cc0caf9b98b79e94d84d323a403a6a87f104356dbafa9f476592106e24f4c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a8d09c9917ebee7335fe4c04ab37bb129688a99dce1038b6fbdf640f24e0e56b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4b8a20500a5fbb4ce24bc89cf498fcf050935d543af593c11511ad23ba09db42","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033442Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e84ae12bcc113afc8cc11e612e11b7549967a5c780cbee56723bd15d787a3f04","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,862 - INFO - finished getting database info
2025-04-13 22:34:42,862 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:34:42,877 - INFO - getting database info
2025-04-13 22:34:42,884 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:34:42,884 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,884 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,885 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,885 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,885 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,885 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:34:42,974 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:34:43 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'47'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'iNJeUZjMU5s9HQRuwyhKhg0nFO6oAavsjZCUN4N3288-EtjgCXxSTg==')])
2025-04-13 22:34:42,975 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:34:42,975 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:34:42,977 - DEBUG - receive_response_body.complete
2025-04-13 22:34:42,977 - DEBUG - response_closed.started
2025-04-13 22:34:42,977 - DEBUG - response_closed.complete
2025-04-13 22:34:42,977 - DEBUG - Response status code: 200
2025-04-13 22:34:42,977 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:34:43 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '47', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 13ebd3f091a09ed12173a302090e174a.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'iNJeUZjMU5s9HQRuwyhKhg0nFO6oAavsjZCUN4N3288-EtjgCXxSTg=='})
2025-04-13 22:34:42,977 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033443Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=1dc625974dd4b683d832709daca9d012469a5b89445a8845b21dfb255f5d89c6","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033443Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=046dbece3ca0f7e3a8995f546253d0e7cad0bc5ca15d431e6ef60d8301466cf8","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033443Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a5fd209f2646197629ac20a3ebeafa29fb980010c4a294fd0d4ecdde69b526ee","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033443Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=150be90db4e3163b3224242b912478a9834f65a91c1d6313bf582660193788f5","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:34:42,978 - INFO - finished getting database info
2025-04-13 22:34:42,978 - DEBUG - Retrieved registered_servers collection: registered_servers
2025-04-13 22:34:42,979 - INFO - creating iterator on 'registered_servers'
2025-04-13 22:34:42,979 - INFO - finished creating iterator on 'registered_servers'
2025-04-13 22:34:42,979 - INFO - command=find on 'registered_servers'
2025-04-13 22:34:42,979 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/registered_servers
2025-04-13 22:34:42,979 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:42,979 - DEBUG - Request payload: {'find': {'filter': {'guild_id': '1203206010269859850'}, 'options': {'limit': 1}}}
2025-04-13 22:34:42,980 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:42,980 - DEBUG - send_request_headers.complete
2025-04-13 22:34:42,980 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:42,980 - DEBUG - send_request_body.complete
2025-04-13 22:34:42,980 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:43,025 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:43 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'272'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:43,026 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/registered_servers "HTTP/1.1 200 OK"
2025-04-13 22:34:43,026 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:43,026 - DEBUG - receive_response_body.complete
2025-04-13 22:34:43,026 - DEBUG - response_closed.started
2025-04-13 22:34:43,026 - DEBUG - response_closed.complete
2025-04-13 22:34:43,026 - DEBUG - Response status code: 200
2025-04-13 22:34:43,026 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:43 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '272', 'connection': 'keep-alive'})
2025-04-13 22:34:43,026 - DEBUG - Response text: {"data":{"documents":[{"_id":"6864f592-3ab7-40f8-a4f5-923ab790f849","guild_id":"1203206010269859850","guild_name":"Stars, Stripes & Samosas","installed_at":"2025-03-19T23:55:51.214287","status":"JOINED","lastupdatedat":"2025-04-14T03:34:09.414343"}],"nextPageState":null}}
2025-04-13 22:34:43,026 - INFO - finished command=find on 'registered_servers'
2025-04-13 22:34:43,026 - INFO - updateOne on 'registered_servers'
2025-04-13 22:34:43,026 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/registered_servers
2025-04-13 22:34:43,026 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:34:43,026 - DEBUG - Request payload: {'updateOne': {'filter': {'guild_id': '1203206010269859850'}, 'update': {'$set': {'guild_name': 'Stars, Stripes & Samosas', 'status': 'JOINED', 'lastupdatedat': '2025-04-14T03:34:42.979812'}}, 'options': {'upsert': False}}}
2025-04-13 22:34:43,026 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:34:43,026 - DEBUG - send_request_headers.complete
2025-04-13 22:34:43,027 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:34:43,027 - DEBUG - send_request_body.complete
2025-04-13 22:34:43,027 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:34:43,093 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:34:43 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'47'), (b'Connection', b'keep-alive')])
2025-04-13 22:34:43,094 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/registered_servers "HTTP/1.1 200 OK"
2025-04-13 22:34:43,094 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:34:43,094 - DEBUG - receive_response_body.complete
2025-04-13 22:34:43,094 - DEBUG - response_closed.started
2025-04-13 22:34:43,094 - DEBUG - response_closed.complete
2025-04-13 22:34:43,094 - DEBUG - Response status code: 200
2025-04-13 22:34:43,094 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:34:43 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '47', 'connection': 'keep-alive'})
2025-04-13 22:34:43,094 - DEBUG - Response text: {"status":{"matchedCount":1,"modifiedCount":1}}
2025-04-13 22:34:43,094 - INFO - finished updateOne on 'registered_servers'
2025-04-13 22:34:43,094 - DEBUG - Updated guild record: Stars, Stripes & Samosas (1203206010269859850) with lastupdatedat 2025-04-14T03:34:42.979812
2025-04-13 22:34:43,094 - DEBUG - [DEBUG] Synced slash commands for Stars, Stripes & Samosas (1203206010269859850)
2025-04-13 22:35:10,320 - DEBUG - [DEBUG] Member joined: friendzoneme (ID: 1258982506439507999) in guild: Stars, Stripes & Samosas (ID: 1203206010269859850)
2025-04-13 22:35:10,332 - INFO - getting database info
2025-04-13 22:35:10,343 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:10,343 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:10,344 - DEBUG - close.started
2025-04-13 22:35:10,344 - DEBUG - close.complete
2025-04-13 22:35:10,344 - DEBUG - close.started
2025-04-13 22:35:10,344 - DEBUG - close.complete
2025-04-13 22:35:10,345 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:10,359 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b5ff890>
2025-04-13 22:35:10,359 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:35:10,381 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb188c0>
2025-04-13 22:35:10,381 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:10,381 - DEBUG - send_request_headers.complete
2025-04-13 22:35:10,381 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:10,381 - DEBUG - send_request_body.complete
2025-04-13 22:35:10,381 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:10,560 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:10 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'44'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'fYC2_SNFyDFUvGpOJJcLz_T0kBKLjfRt4W-4ABh6eDJIzYaiJnYzqQ==')])
2025-04-13 22:35:10,561 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:10,561 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:10,561 - DEBUG - receive_response_body.complete
2025-04-13 22:35:10,561 - DEBUG - response_closed.started
2025-04-13 22:35:10,562 - DEBUG - response_closed.complete
2025-04-13 22:35:10,562 - DEBUG - Response status code: 200
2025-04-13 22:35:10,562 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:10 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '44', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'fYC2_SNFyDFUvGpOJJcLz_T0kBKLjfRt4W-4ABh6eDJIzYaiJnYzqQ=='})
2025-04-13 22:35:10,562 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=42ed4cc58f17c2139f15616062427b698d6ec0a34f56a3bf1b174772a09f9628","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=0c10f81f9627fd74519fadc8b11d29e938e6a3b6ce8231c66171f0801ad9760a","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=706ea75331e31815d7f1cde5177c4387784dac900826bc3b03f8bccff6dc20a7","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=9cb2b3c3576450b356fa7284221018fe532fa9d0ad2b3235953e364f32cc364b","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:10,565 - INFO - finished getting database info
2025-04-13 22:35:10,565 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:10,583 - INFO - getting database info
2025-04-13 22:35:10,590 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:10,590 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:10,590 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:10,590 - DEBUG - send_request_headers.complete
2025-04-13 22:35:10,590 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:10,590 - DEBUG - send_request_body.complete
2025-04-13 22:35:10,590 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:10,685 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:10 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'53'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'R7YEv0fPl5Una-17R-0iofEGP_5dRNGGwtPijHM2hyFuQsF3UCuJZA==')])
2025-04-13 22:35:10,686 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:10,686 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:10,687 - DEBUG - receive_response_body.complete
2025-04-13 22:35:10,687 - DEBUG - response_closed.started
2025-04-13 22:35:10,687 - DEBUG - response_closed.complete
2025-04-13 22:35:10,687 - DEBUG - Response status code: 200
2025-04-13 22:35:10,687 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:10 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '53', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'R7YEv0fPl5Una-17R-0iofEGP_5dRNGGwtPijHM2hyFuQsF3UCuJZA=='})
2025-04-13 22:35:10,688 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=42ed4cc58f17c2139f15616062427b698d6ec0a34f56a3bf1b174772a09f9628","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=0c10f81f9627fd74519fadc8b11d29e938e6a3b6ce8231c66171f0801ad9760a","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=706ea75331e31815d7f1cde5177c4387784dac900826bc3b03f8bccff6dc20a7","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033510Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=9cb2b3c3576450b356fa7284221018fe532fa9d0ad2b3235953e364f32cc364b","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:10,690 - INFO - finished getting database info
2025-04-13 22:35:10,690 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:35:10,691 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:35:10,692 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:35:10,692 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:35:10,692 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:35:10,692 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:10,692 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:35:10,692 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:10,777 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb327e0>
2025-04-13 22:35:10,777 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:35:10,837 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb32840>
2025-04-13 22:35:10,838 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:10,838 - DEBUG - send_request_headers.complete
2025-04-13 22:35:10,838 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:10,838 - DEBUG - send_request_body.complete
2025-04-13 22:35:10,838 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:10,910 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:10 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:10,912 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:35:10,912 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:10,913 - DEBUG - receive_response_body.complete
2025-04-13 22:35:10,913 - DEBUG - response_closed.started
2025-04-13 22:35:10,913 - DEBUG - response_closed.complete
2025-04-13 22:35:10,913 - DEBUG - Response status code: 200
2025-04-13 22:35:10,913 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:10 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:35:10,913 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:35:10,914 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:35:10,914 - DEBUG - [DEBUG] Guild settings: {'_id': '6082755f-9e63-45e7-8275-5f9e63d5e7a2', 'guild_id': 1203206010269859850, 'enabled': True, 'admin_channel_name': 'emp-chat', 'guest_role_name': 'Guest', 'roles_channel_name': 'roles', 'rules_channel_name': 'rules', 'verified_role_name': 'Verified', 'admin_role_name': 'Mods'}
2025-04-13 22:35:10,914 - DEBUG - [DEBUG] Creating verification channel for friendzoneme
2025-04-13 22:35:11,493 - DEBUG - [DEBUG] Created verification channel: verify-friendzoneme (ID: 1361182976544870441)
2025-04-13 22:35:11,493 - DEBUG - About to Generate verification questions from OpenAI. Verification Prompt: Generate 3 simple verification questions for a Discord server that:
1. Are very easy to answer
2. Have clear, unambiguous answers
3. Are appropriate for all ages
4. Don't require special knowledge
5. Are similar in difficulty to these examples:
   - 'What is 2+2?' (answer: '4')
   - 'What color is the sky?' (answer: 'blue')
   - 'How many days are in a week?' (answer: '7')

Return the questions in this exact JSON format:
[
    {'question': 'Question 1?', 'answer': 'answer1'},
    {'question': 'Question 2?', 'answer': 'answer2'},
    {'question': 'Question 3?', 'answer': 'answer3'}
]

Here is a random number to force variation: 333521. Do not include this number in your response.
2025-04-13 22:35:11,499 - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': "Generate 3 simple verification questions for a Discord server that:\n1. Are very easy to answer\n2. Have clear, unambiguous answers\n3. Are appropriate for all ages\n4. Don't require special knowledge\n5. Are similar in difficulty to these examples:\n   - 'What is 2+2?' (answer: '4')\n   - 'What color is the sky?' (answer: 'blue')\n   - 'How many days are in a week?' (answer: '7')\n\nReturn the questions in this exact JSON format:\n[\n    {'question': 'Question 1?', 'answer': 'answer1'},\n    {'question': 'Question 2?', 'answer': 'answer2'},\n    {'question': 'Question 3?', 'answer': 'answer3'}\n]\n\nHere is a random number to force variation: 333521. Do not include this number in your response."}, {'role': 'user', 'content': 'Generate 3 verification questions as per the system prompt instructions.'}], 'model': 'gpt-3.5-turbo', 'max_tokens': 300, 'temperature': 0.7}}
2025-04-13 22:35:11,551 - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-04-13 22:35:11,552 - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-13 22:35:11,600 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb30d10>
2025-04-13 22:35:11,600 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10a73fcd0> server_hostname='api.openai.com' timeout=5.0
2025-04-13 22:35:11,619 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b5ae000>
2025-04-13 22:35:11,620 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:11,620 - DEBUG - send_request_headers.complete
2025-04-13 22:35:11,620 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:11,620 - DEBUG - send_request_body.complete
2025-04-13 22:35:11,620 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:12,726 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 14 Apr 2025 03:35:12 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hdc9849lwrfde7ap7afnyhqc'), (b'openai-processing-ms', b'666'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199807'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'57ms'), (b'x-request-id', b'req_8c135c83f42299d048b410b9a332621f'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=g2sERbjS8QSjvZK5oxFzw4.RCuFU9zkMILZj4an783g-1744601712-1.0.1.1-0p8cHuny2WBxp3THIxDLcgnBwsDf90J.1cOjoXpZ40TmGeuvHHElCyoWL3MuSmPJqYRC.a5ni30rt5E3BhpmRRBqTzguPjn_EHhLesV77pQ; path=/; expires=Mon, 14-Apr-25 04:05:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=4b0FItVHNiVMqEi_Wv4GtFLnbWfTMh.APWwIOt.ez64-1744601712799-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'930026da38def0a1-DFW'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-04-13 22:35:12,729 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-13 22:35:12,729 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:12,730 - DEBUG - receive_response_body.complete
2025-04-13 22:35:12,730 - DEBUG - response_closed.started
2025-04-13 22:35:12,730 - DEBUG - response_closed.complete
2025-04-13 22:35:12,730 - DEBUG - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Mon, 14 Apr 2025 03:35:12 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hdc9849lwrfde7ap7afnyhqc'), ('openai-processing-ms', '666'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '199807'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '57ms'), ('x-request-id', 'req_8c135c83f42299d048b410b9a332621f'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=g2sERbjS8QSjvZK5oxFzw4.RCuFU9zkMILZj4an783g-1744601712-1.0.1.1-0p8cHuny2WBxp3THIxDLcgnBwsDf90J.1cOjoXpZ40TmGeuvHHElCyoWL3MuSmPJqYRC.a5ni30rt5E3BhpmRRBqTzguPjn_EHhLesV77pQ; path=/; expires=Mon, 14-Apr-25 04:05:12 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=4b0FItVHNiVMqEi_Wv4GtFLnbWfTMh.APWwIOt.ez64-1744601712799-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '930026da38def0a1-DFW'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-04-13 22:35:12,730 - DEBUG - request_id: req_8c135c83f42299d048b410b9a332621f
2025-04-13 22:35:12,737 - DEBUG - [DEBUG] OpenAI Verification Response: [
    {'question': 'What color is a banana?', 'answer': 'yellow'},
    {'question': 'How many legs does a cat have?', 'answer': '4'},
    {'question': 'What is the opposite of up?', 'answer': 'down'}
]
2025-04-13 22:35:12,737 - ERROR - Failed to parse verification questions JSON: [
    {'question': 'What color is a banana?', 'answer': 'yellow'},
    {'question': 'How many legs does a cat have?', 'answer': '4'},
    {'question': 'What is the opposite of up?', 'answer': 'down'}
]. Error: Expecting property name enclosed in double quotes: line 2 column 6 (char 7)
2025-04-13 22:35:12,737 - DEBUG - [DEBUG] Generated verification questions for friendzoneme
2025-04-13 22:35:12,737 - DEBUG - [DEBUG] Stored verification state for friendzoneme
2025-04-13 22:35:12,737 - DEBUG - [DEBUG] Sending welcome message to friendzoneme
2025-04-13 22:35:12,904 - INFO - getting database info
2025-04-13 22:35:12,914 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:12,914 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:12,914 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:12,915 - DEBUG - send_request_headers.complete
2025-04-13 22:35:12,915 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:12,915 - DEBUG - send_request_body.complete
2025-04-13 22:35:12,915 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:13,000 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:13 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'46'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'N79833TjHum6PYrDdQvddj_6ZTG6sq0DhPtuoBkh1tsRGuoSOueRyA==')])
2025-04-13 22:35:13,001 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:13,001 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:13,001 - DEBUG - receive_response_body.complete
2025-04-13 22:35:13,001 - DEBUG - response_closed.started
2025-04-13 22:35:13,001 - DEBUG - response_closed.complete
2025-04-13 22:35:13,002 - DEBUG - Response status code: 200
2025-04-13 22:35:13,002 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:13 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '46', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'N79833TjHum6PYrDdQvddj_6ZTG6sq0DhPtuoBkh1tsRGuoSOueRyA=='})
2025-04-13 22:35:13,002 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=6e6b1d3b9686bb12cae38d3d60aa8b2e148f6913e9765c91e8daeecdfa205011","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=7097138f2f01e71b556cf86e38fc3d704ad61b8b3a2bc95021cb52a0a186dc12","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=11d7809c775d1fc999698af7c0147da80a46bfbdadf1ac297d522b8920f9c79e","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f7bbaacd5dc7c5fd031f87e062e319089de3ef6f901ed74330a3fcfdf0ca91b0","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:13,004 - INFO - finished getting database info
2025-04-13 22:35:13,004 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:13,019 - INFO - getting database info
2025-04-13 22:35:13,029 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:13,029 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:13,029 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:13,029 - DEBUG - send_request_headers.complete
2025-04-13 22:35:13,030 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:13,030 - DEBUG - send_request_body.complete
2025-04-13 22:35:13,030 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:13,125 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:13 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'7d87niK7U09IVGZyEi22KdzngUfyCoZV18WQxoW5LSfB-J6GM1qz2g==')])
2025-04-13 22:35:13,126 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:13,126 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:13,127 - DEBUG - receive_response_body.complete
2025-04-13 22:35:13,127 - DEBUG - response_closed.started
2025-04-13 22:35:13,127 - DEBUG - response_closed.complete
2025-04-13 22:35:13,127 - DEBUG - Response status code: 200
2025-04-13 22:35:13,127 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:13 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 2ea7f302d33babb724de99a42c1cb5e2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '7d87niK7U09IVGZyEi22KdzngUfyCoZV18WQxoW5LSfB-J6GM1qz2g=='})
2025-04-13 22:35:13,128 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=6e6b1d3b9686bb12cae38d3d60aa8b2e148f6913e9765c91e8daeecdfa205011","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=7097138f2f01e71b556cf86e38fc3d704ad61b8b3a2bc95021cb52a0a186dc12","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=11d7809c775d1fc999698af7c0147da80a46bfbdadf1ac297d522b8920f9c79e","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033513Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f7bbaacd5dc7c5fd031f87e062e319089de3ef6f901ed74330a3fcfdf0ca91b0","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:13,130 - INFO - finished getting database info
2025-04-13 22:35:13,130 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:35:13,131 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:35:13,131 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:35:13,132 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:13,132 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'channel_created', 'success': None, 'timestamp': '2025-04-14T03:35:13.131818', 'details': None}}}
2025-04-13 22:35:13,132 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:13,132 - DEBUG - send_request_headers.complete
2025-04-13 22:35:13,133 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:13,133 - DEBUG - send_request_body.complete
2025-04-13 22:35:13,133 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:13,210 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:13 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:13,210 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:35:13,210 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:13,210 - DEBUG - receive_response_body.complete
2025-04-13 22:35:13,211 - DEBUG - response_closed.started
2025-04-13 22:35:13,211 - DEBUG - response_closed.complete
2025-04-13 22:35:13,211 - DEBUG - Response status code: 200
2025-04-13 22:35:13,211 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:13 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:35:13,211 - DEBUG - Response text: {"status":{"insertedIds":["9d07e094-0071-4409-87e0-940071e4097a"]}}
2025-04-13 22:35:13,211 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:35:13,211 - DEBUG - Logged verification attempt for friendzoneme at stage channel_created
2025-04-13 22:35:13,213 - DEBUG - [DEBUG] Logged verification attempt for friendzoneme
2025-04-13 22:35:25,676 - INFO - getting database info
2025-04-13 22:35:25,683 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:25,683 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:25,683 - DEBUG - close.started
2025-04-13 22:35:25,683 - DEBUG - close.complete
2025-04-13 22:35:25,684 - DEBUG - close.started
2025-04-13 22:35:25,684 - DEBUG - close.complete
2025-04-13 22:35:25,684 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:25,744 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb32ab0>
2025-04-13 22:35:25,744 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:35:25,768 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a71eba0>
2025-04-13 22:35:25,768 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:25,769 - DEBUG - send_request_headers.complete
2025-04-13 22:35:25,769 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:25,769 - DEBUG - send_request_body.complete
2025-04-13 22:35:25,769 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:25,899 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:25 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'42'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'PtbunfnV9iZZd5F2yilRr2ftEkewVL_hy9UhYorp_pgmElMYLyKOTA==')])
2025-04-13 22:35:25,900 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:25,901 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:25,901 - DEBUG - receive_response_body.complete
2025-04-13 22:35:25,901 - DEBUG - response_closed.started
2025-04-13 22:35:25,901 - DEBUG - response_closed.complete
2025-04-13 22:35:25,901 - DEBUG - Response status code: 200
2025-04-13 22:35:25,902 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:25 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '42', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'PtbunfnV9iZZd5F2yilRr2ftEkewVL_hy9UhYorp_pgmElMYLyKOTA=='})
2025-04-13 22:35:25,902 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033525Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=367a1d9190ae8c62f45e97e73f2149d95f4f678aa0d32077252992f7e06129c0","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033525Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=929299bbd3a61f829d3fdd55f54fc3b12cc6881e1c5aceed1e13de087191e646","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033525Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=5ea132ed06f89e3fe6e4b19fbfe908055514dd32b37b6034c54986b623a261a0","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033525Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=c1edfa835991b98e99b7ae69060821db9cca4f966da352030f9ec7a3c1a812fd","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:25,904 - INFO - finished getting database info
2025-04-13 22:35:25,904 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:25,926 - INFO - getting database info
2025-04-13 22:35:25,935 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:25,935 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:25,936 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:25,936 - DEBUG - send_request_headers.complete
2025-04-13 22:35:25,936 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:25,936 - DEBUG - send_request_body.complete
2025-04-13 22:35:25,936 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:26,035 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:26 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'55'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'lkVrJtH0MejkaXEnM-CEx_YVuAZ3IkAYDaCa8gkfnyiWXHAd-HV56A==')])
2025-04-13 22:35:26,035 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:26,035 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:26,035 - DEBUG - receive_response_body.complete
2025-04-13 22:35:26,035 - DEBUG - response_closed.started
2025-04-13 22:35:26,036 - DEBUG - response_closed.complete
2025-04-13 22:35:26,036 - DEBUG - Response status code: 200
2025-04-13 22:35:26,036 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:26 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '55', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'lkVrJtH0MejkaXEnM-CEx_YVuAZ3IkAYDaCa8gkfnyiWXHAd-HV56A=='})
2025-04-13 22:35:26,036 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=512e0f235b4afe17e5eee798544966eeaf1854a550f9e3ba0e2ac10c8e911a97","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=7061109361b4830ffb145f3810f2f0f5748da507f095c0e0369506a9708fdaa2","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=257afdbef11ebb7f3a03756279c7e54dad780dc0bb7be1fc3f928d9bf66c0a75","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8527f30266ed0bafb4e3e0f5fb3b01c731ae56f373fd06b488d555daa989a15f","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:26,037 - INFO - finished getting database info
2025-04-13 22:35:26,037 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:35:26,039 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:35:26,039 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:35:26,039 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:35:26,039 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:35:26,039 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:26,039 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:35:26,039 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:26,082 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb19700>
2025-04-13 22:35:26,083 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:35:26,137 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb19430>
2025-04-13 22:35:26,137 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:26,137 - DEBUG - send_request_headers.complete
2025-04-13 22:35:26,138 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:26,138 - DEBUG - send_request_body.complete
2025-04-13 22:35:26,138 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:26,279 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:26 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:26,280 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:35:26,280 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:26,280 - DEBUG - receive_response_body.complete
2025-04-13 22:35:26,280 - DEBUG - response_closed.started
2025-04-13 22:35:26,280 - DEBUG - response_closed.complete
2025-04-13 22:35:26,281 - DEBUG - Response status code: 200
2025-04-13 22:35:26,281 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:26 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:35:26,281 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:35:26,281 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:35:26,560 - INFO - Assigned Guest role to friendzoneme (1258982506439507999)
2025-04-13 22:35:26,561 - DEBUG - [DEBUG] Successfully assigned Guest role Guest (ID: 1358639788005003299) to friendzoneme
2025-04-13 22:35:26,705 - INFO - getting database info
2025-04-13 22:35:26,713 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:26,713 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:26,713 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:26,713 - DEBUG - send_request_headers.complete
2025-04-13 22:35:26,713 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:26,714 - DEBUG - send_request_body.complete
2025-04-13 22:35:26,714 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:26,807 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:26 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'53'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Qi5eY0xQTFH-sEcXIbf220zwdZlHrkjPQt-FcyYUxMtrgJPPMntZIg==')])
2025-04-13 22:35:26,808 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:26,808 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:26,808 - DEBUG - receive_response_body.complete
2025-04-13 22:35:26,808 - DEBUG - response_closed.started
2025-04-13 22:35:26,808 - DEBUG - response_closed.complete
2025-04-13 22:35:26,809 - DEBUG - Response status code: 200
2025-04-13 22:35:26,809 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:26 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '53', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Qi5eY0xQTFH-sEcXIbf220zwdZlHrkjPQt-FcyYUxMtrgJPPMntZIg=='})
2025-04-13 22:35:26,809 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=512e0f235b4afe17e5eee798544966eeaf1854a550f9e3ba0e2ac10c8e911a97","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=7061109361b4830ffb145f3810f2f0f5748da507f095c0e0369506a9708fdaa2","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=257afdbef11ebb7f3a03756279c7e54dad780dc0bb7be1fc3f928d9bf66c0a75","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8527f30266ed0bafb4e3e0f5fb3b01c731ae56f373fd06b488d555daa989a15f","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:26,811 - INFO - finished getting database info
2025-04-13 22:35:26,811 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:26,828 - INFO - getting database info
2025-04-13 22:35:26,836 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:26,836 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:26,836 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:26,837 - DEBUG - send_request_headers.complete
2025-04-13 22:35:26,837 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:26,837 - DEBUG - send_request_body.complete
2025-04-13 22:35:26,837 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:26,940 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:27 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Fn9zew4z8XHygSOQeZBEy4jPkU51A6LWKJVodSGimrbBWZb5VaMRug==')])
2025-04-13 22:35:26,947 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:26,947 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:26,947 - DEBUG - receive_response_body.complete
2025-04-13 22:35:26,947 - DEBUG - response_closed.started
2025-04-13 22:35:26,947 - DEBUG - response_closed.complete
2025-04-13 22:35:26,947 - DEBUG - Response status code: 200
2025-04-13 22:35:26,947 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:27 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Fn9zew4z8XHygSOQeZBEy4jPkU51A6LWKJVodSGimrbBWZb5VaMRug=='})
2025-04-13 22:35:26,947 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=512e0f235b4afe17e5eee798544966eeaf1854a550f9e3ba0e2ac10c8e911a97","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=7061109361b4830ffb145f3810f2f0f5748da507f095c0e0369506a9708fdaa2","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=257afdbef11ebb7f3a03756279c7e54dad780dc0bb7be1fc3f928d9bf66c0a75","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033526Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8527f30266ed0bafb4e3e0f5fb3b01c731ae56f373fd06b488d555daa989a15f","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:26,949 - INFO - finished getting database info
2025-04-13 22:35:26,949 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:35:26,951 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:35:26,951 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:35:26,951 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:26,951 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'verification_completed', 'success': True, 'timestamp': '2025-04-14T03:35:26.951035', 'details': None}}}
2025-04-13 22:35:26,951 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:26,952 - DEBUG - send_request_headers.complete
2025-04-13 22:35:26,952 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:26,952 - DEBUG - send_request_body.complete
2025-04-13 22:35:26,952 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:27,009 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:27 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:27,009 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:35:27,009 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:27,009 - DEBUG - receive_response_body.complete
2025-04-13 22:35:27,009 - DEBUG - response_closed.started
2025-04-13 22:35:27,009 - DEBUG - response_closed.complete
2025-04-13 22:35:27,010 - DEBUG - Response status code: 200
2025-04-13 22:35:27,010 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:27 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:35:27,010 - DEBUG - Response text: {"status":{"insertedIds":["e0d98e4d-7b8a-4cd8-998e-4d7b8aecd82a"]}}
2025-04-13 22:35:27,010 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:35:27,010 - DEBUG - Logged verification attempt for friendzoneme at stage verification_completed
2025-04-13 22:35:30,344 - INFO - getting database info
2025-04-13 22:35:30,354 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:30,355 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:30,355 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:30,355 - DEBUG - send_request_headers.complete
2025-04-13 22:35:30,355 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:30,356 - DEBUG - send_request_body.complete
2025-04-13 22:35:30,356 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:30,443 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:30 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'46'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'UJRqttIK66ZZoYj925Shvd9vGRa-mzTw-E-WrTTNTlRmmslCYgBSGA==')])
2025-04-13 22:35:30,444 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:30,445 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:30,445 - DEBUG - receive_response_body.complete
2025-04-13 22:35:30,445 - DEBUG - response_closed.started
2025-04-13 22:35:30,445 - DEBUG - response_closed.complete
2025-04-13 22:35:30,446 - DEBUG - Response status code: 200
2025-04-13 22:35:30,446 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:30 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '46', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'UJRqttIK66ZZoYj925Shvd9vGRa-mzTw-E-WrTTNTlRmmslCYgBSGA=='})
2025-04-13 22:35:30,446 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e633d72359a6fc5e9e0870db76e9d8b8e9122628b4aea48d32ae2d911ffd3a5d","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=24827c565486f79e0d9cac06fcf01a3332315378f2ca97eb224006d687c9c7aa","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a2447f02a6d5205c267aceb033e8d6e3e92601c8321202d3d3d5fe49e197ca35","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f8dd07ee750c626b8f95f41f5ed63a2315ab97548ef372d3e0ade8e8752f22d0","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:15:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:30,449 - INFO - finished getting database info
2025-04-13 22:35:30,449 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:30,470 - INFO - getting database info
2025-04-13 22:35:30,479 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:30,479 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:30,480 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:30,480 - DEBUG - send_request_headers.complete
2025-04-13 22:35:30,480 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:30,480 - DEBUG - send_request_body.complete
2025-04-13 22:35:30,480 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:30,577 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:30 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'ibbRVZOvDfEYq3jTp_HoxVC7-RV5IwG1vIdCatXwhn91OrnigOihdw==')])
2025-04-13 22:35:30,577 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:30,577 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:30,577 - DEBUG - receive_response_body.complete
2025-04-13 22:35:30,577 - DEBUG - response_closed.started
2025-04-13 22:35:30,577 - DEBUG - response_closed.complete
2025-04-13 22:35:30,578 - DEBUG - Response status code: 200
2025-04-13 22:35:30,578 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:30 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c23399f5f1af590f986821e9906d58a6.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'ibbRVZOvDfEYq3jTp_HoxVC7-RV5IwG1vIdCatXwhn91OrnigOihdw=='})
2025-04-13 22:35:30,578 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=e633d72359a6fc5e9e0870db76e9d8b8e9122628b4aea48d32ae2d911ffd3a5d","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=24827c565486f79e0d9cac06fcf01a3332315378f2ca97eb224006d687c9c7aa","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a2447f02a6d5205c267aceb033e8d6e3e92601c8321202d3d3d5fe49e197ca35","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033530Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=f8dd07ee750c626b8f95f41f5ed63a2315ab97548ef372d3e0ade8e8752f22d0","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:30,579 - INFO - finished getting database info
2025-04-13 22:35:30,579 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:35:30,580 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:35:30,580 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:35:30,580 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:30,580 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'rules_acknowledged', 'success': None, 'timestamp': '2025-04-14T03:35:30.580795', 'details': None}}}
2025-04-13 22:35:30,581 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:30,581 - DEBUG - send_request_headers.complete
2025-04-13 22:35:30,581 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:30,581 - DEBUG - send_request_body.complete
2025-04-13 22:35:30,581 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:30,637 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:30 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:30,638 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:35:30,638 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:30,639 - DEBUG - receive_response_body.complete
2025-04-13 22:35:30,640 - DEBUG - response_closed.started
2025-04-13 22:35:30,640 - DEBUG - response_closed.complete
2025-04-13 22:35:30,640 - DEBUG - Response status code: 200
2025-04-13 22:35:30,640 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:30 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:35:30,641 - DEBUG - Response text: {"status":{"insertedIds":["6d7f4687-97ad-4dc3-bf46-8797ad5dc39e"]}}
2025-04-13 22:35:30,641 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:35:30,641 - DEBUG - Logged verification attempt for friendzoneme at stage rules_acknowledged
2025-04-13 22:35:45,260 - INFO - getting database info
2025-04-13 22:35:45,266 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:45,267 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:45,267 - DEBUG - close.started
2025-04-13 22:35:45,267 - DEBUG - close.complete
2025-04-13 22:35:45,267 - DEBUG - close.started
2025-04-13 22:35:45,267 - DEBUG - close.complete
2025-04-13 22:35:45,267 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:45,283 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9e870>
2025-04-13 22:35:45,283 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:35:45,315 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9e750>
2025-04-13 22:35:45,315 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:45,315 - DEBUG - send_request_headers.complete
2025-04-13 22:35:45,315 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:45,315 - DEBUG - send_request_body.complete
2025-04-13 22:35:45,315 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:45,459 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:45 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'53'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 1f47ce7f1d4380dcd3d8f3eace1e044e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'XLI_oaneyPkAcLlkJK1IlbYaOkYZkb7l-PPqWShnCH_3pX-CWAEESg==')])
2025-04-13 22:35:45,461 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:45,461 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:45,461 - DEBUG - receive_response_body.complete
2025-04-13 22:35:45,461 - DEBUG - response_closed.started
2025-04-13 22:35:45,462 - DEBUG - response_closed.complete
2025-04-13 22:35:45,462 - DEBUG - Response status code: 200
2025-04-13 22:35:45,462 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:45 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '53', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 1f47ce7f1d4380dcd3d8f3eace1e044e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'XLI_oaneyPkAcLlkJK1IlbYaOkYZkb7l-PPqWShnCH_3pX-CWAEESg=='})
2025-04-13 22:35:45,462 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=1263c3977e16210d7ae4246660d44a5f8446aab3eb6ee08b453bd6bec988fad3","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=0beec66fff5acdab3f276099664ee7a33f34441f821df2559864f638f1f3d5b7","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=14cba8fb37b8d9eec1fdfea5675f0caf6386073bc8890ee6b22a59aa42edb620","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8e254305026dfe8fb052e7b4f093586c4919a521a44d638f1b6c2191c1482ff7","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:45,463 - INFO - finished getting database info
2025-04-13 22:35:45,463 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:35:45,484 - INFO - getting database info
2025-04-13 22:35:45,493 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:35:45,493 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:45,496 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:35:45,496 - DEBUG - send_request_headers.complete
2025-04-13 22:35:45,496 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:35:45,496 - DEBUG - send_request_body.complete
2025-04-13 22:35:45,496 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:35:45,585 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:35:45 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'49'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 1f47ce7f1d4380dcd3d8f3eace1e044e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'0a2vAsXoN3hr4CsdQoCI0_ieRkMujaNwd3xqjjyjGvIg1ZyCePB7mg==')])
2025-04-13 22:35:45,585 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:35:45,585 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:35:45,585 - DEBUG - receive_response_body.complete
2025-04-13 22:35:45,585 - DEBUG - response_closed.started
2025-04-13 22:35:45,585 - DEBUG - response_closed.complete
2025-04-13 22:35:45,585 - DEBUG - Response status code: 200
2025-04-13 22:35:45,585 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:35:45 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '49', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 1f47ce7f1d4380dcd3d8f3eace1e044e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '0a2vAsXoN3hr4CsdQoCI0_ieRkMujaNwd3xqjjyjGvIg1ZyCePB7mg=='})
2025-04-13 22:35:45,585 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=1263c3977e16210d7ae4246660d44a5f8446aab3eb6ee08b453bd6bec988fad3","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=0beec66fff5acdab3f276099664ee7a33f34441f821df2559864f638f1f3d5b7","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=14cba8fb37b8d9eec1fdfea5675f0caf6386073bc8890ee6b22a59aa42edb620","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033545Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=8e254305026dfe8fb052e7b4f093586c4919a521a44d638f1b6c2191c1482ff7","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:35:45,586 - INFO - finished getting database info
2025-04-13 22:35:45,586 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:35:45,587 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:35:45,587 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:35:45,587 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:35:45,587 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:35:45,587 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:35:45,587 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:35:45,588 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:35:45,627 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb86090>
2025-04-13 22:35:45,627 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:35:45,677 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb87770>
2025-04-13 22:35:45,677 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:35:45,677 - DEBUG - send_request_headers.complete
2025-04-13 22:35:45,677 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:35:45,677 - DEBUG - send_request_body.complete
2025-04-13 22:35:45,677 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:35:45,746 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:35:45 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:35:45,746 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:35:45,746 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:35:45,746 - DEBUG - receive_response_body.complete
2025-04-13 22:35:45,746 - DEBUG - response_closed.started
2025-04-13 22:35:45,746 - DEBUG - response_closed.complete
2025-04-13 22:35:45,746 - DEBUG - Response status code: 200
2025-04-13 22:35:45,746 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:35:45 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:35:45,746 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:35:45,746 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:36:06,373 - INFO - getting database info
2025-04-13 22:36:06,379 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:06,379 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:06,380 - DEBUG - close.started
2025-04-13 22:36:06,380 - DEBUG - close.complete
2025-04-13 22:36:06,380 - DEBUG - close.started
2025-04-13 22:36:06,380 - DEBUG - close.complete
2025-04-13 22:36:06,380 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:36:06,392 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb86750>
2025-04-13 22:36:06,392 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:36:06,411 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb869f0>
2025-04-13 22:36:06,412 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:06,412 - DEBUG - send_request_headers.complete
2025-04-13 22:36:06,412 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:06,412 - DEBUG - send_request_body.complete
2025-04-13 22:36:06,412 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:06,571 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:06 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'47'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 d7f670ad3556d619e253209884fcea8e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'nflT5D-Lpo0zn1XV7aFkxl7lxseWxr7da2F9riRJQ9eqsrjquNFSRQ==')])
2025-04-13 22:36:06,571 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:06,571 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:06,571 - DEBUG - receive_response_body.complete
2025-04-13 22:36:06,571 - DEBUG - response_closed.started
2025-04-13 22:36:06,571 - DEBUG - response_closed.complete
2025-04-13 22:36:06,571 - DEBUG - Response status code: 200
2025-04-13 22:36:06,571 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:06 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '47', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 d7f670ad3556d619e253209884fcea8e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'nflT5D-Lpo0zn1XV7aFkxl7lxseWxr7da2F9riRJQ9eqsrjquNFSRQ=='})
2025-04-13 22:36:06,572 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=51a7590931c1609a8394cba149698fe09e1eacb62040602c45ad369b1a630609","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4e411113a69233507994d6e68801844895820e6605133643d1e25ff441703ede","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a087a016cd32176420017e25fa4c9e27b5b526be1e4643cb0e84c83ea34c5c8c","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=34442cdd13ac0c4a9de2ee3c4dbc2ffa79a781cf1d028fcdc997a931c8c33669","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:06,573 - INFO - finished getting database info
2025-04-13 22:36:06,573 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:36:06,590 - INFO - getting database info
2025-04-13 22:36:06,597 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:06,597 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:06,598 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:06,598 - DEBUG - send_request_headers.complete
2025-04-13 22:36:06,598 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:06,598 - DEBUG - send_request_body.complete
2025-04-13 22:36:06,598 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:06,693 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:06 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'54'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 d7f670ad3556d619e253209884fcea8e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'3e2ahOn2sY2Vo1sOhHGkcs4LdUnkHbCS77YicN5g236PLx3x67G9eA==')])
2025-04-13 22:36:06,693 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:06,693 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:06,693 - DEBUG - receive_response_body.complete
2025-04-13 22:36:06,694 - DEBUG - response_closed.started
2025-04-13 22:36:06,694 - DEBUG - response_closed.complete
2025-04-13 22:36:06,694 - DEBUG - Response status code: 200
2025-04-13 22:36:06,694 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:06 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '54', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 d7f670ad3556d619e253209884fcea8e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '3e2ahOn2sY2Vo1sOhHGkcs4LdUnkHbCS77YicN5g236PLx3x67G9eA=='})
2025-04-13 22:36:06,694 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=51a7590931c1609a8394cba149698fe09e1eacb62040602c45ad369b1a630609","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4e411113a69233507994d6e68801844895820e6605133643d1e25ff441703ede","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a087a016cd32176420017e25fa4c9e27b5b526be1e4643cb0e84c83ea34c5c8c","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033606Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=34442cdd13ac0c4a9de2ee3c4dbc2ffa79a781cf1d028fcdc997a931c8c33669","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:06,695 - INFO - finished getting database info
2025-04-13 22:36:06,695 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:36:06,696 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:36:06,696 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:36:06,696 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:36:06,696 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:36:06,696 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:06,696 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:36:06,696 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:36:06,761 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb30d40>
2025-04-13 22:36:06,761 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:36:06,811 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb33410>
2025-04-13 22:36:06,811 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:36:06,811 - DEBUG - send_request_headers.complete
2025-04-13 22:36:06,811 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:36:06,812 - DEBUG - send_request_body.complete
2025-04-13 22:36:06,812 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:36:06,877 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:36:06 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:36:06,878 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:36:06,878 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:36:06,878 - DEBUG - receive_response_body.complete
2025-04-13 22:36:06,878 - DEBUG - response_closed.started
2025-04-13 22:36:06,878 - DEBUG - response_closed.complete
2025-04-13 22:36:06,878 - DEBUG - Response status code: 200
2025-04-13 22:36:06,878 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:36:06 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:36:06,878 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:36:06,878 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:36:56,534 - INFO - getting database info
2025-04-13 22:36:56,545 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:56,545 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:56,546 - DEBUG - close.started
2025-04-13 22:36:56,546 - DEBUG - close.complete
2025-04-13 22:36:56,546 - DEBUG - close.started
2025-04-13 22:36:56,547 - DEBUG - close.complete
2025-04-13 22:36:56,547 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:36:56,655 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb317f0>
2025-04-13 22:36:56,657 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:36:56,681 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb33f80>
2025-04-13 22:36:56,682 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:56,683 - DEBUG - send_request_headers.complete
2025-04-13 22:36:56,683 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:56,683 - DEBUG - send_request_body.complete
2025-04-13 22:36:56,683 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:56,818 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:56 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'42'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'_PFAmaRaOf2CIoU4FzrlnmQmeH87Qxsmf2m1zdclMOXR5oasS5OdLQ==')])
2025-04-13 22:36:56,818 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:56,819 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:56,819 - DEBUG - receive_response_body.complete
2025-04-13 22:36:56,819 - DEBUG - response_closed.started
2025-04-13 22:36:56,819 - DEBUG - response_closed.complete
2025-04-13 22:36:56,820 - DEBUG - Response status code: 200
2025-04-13 22:36:56,820 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:56 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '42', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '_PFAmaRaOf2CIoU4FzrlnmQmeH87Qxsmf2m1zdclMOXR5oasS5OdLQ=='})
2025-04-13 22:36:56,820 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033656Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=458e8b09fab648699bb0a14c5a56916966402290f848a40ff0f5b852c6645e2d","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033656Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=95048e1066a62768681ec0d84abba161e3a78d79cbb5ce1bd4d06ddcf4256a17","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033656Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4d2ec777ecf435b886489bd1d711d2d8945d063facc5e1e1f02af724edb9ee1c","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033656Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=12b4f01e3dc43651f969ebfbccd20c345c94f6987029dfe1a739021aa4094bf2","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:56,823 - INFO - finished getting database info
2025-04-13 22:36:56,823 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:36:56,847 - INFO - getting database info
2025-04-13 22:36:56,856 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:56,856 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:56,857 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:56,857 - DEBUG - send_request_headers.complete
2025-04-13 22:36:56,857 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:56,857 - DEBUG - send_request_body.complete
2025-04-13 22:36:56,857 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:56,959 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:57 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'59'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'n2UnQaPvuh8UK7ZjW9d2GfYYELIHtWrK5Kye1tCxK6lzAjnxD8HMLw==')])
2025-04-13 22:36:56,959 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:56,960 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:56,960 - DEBUG - receive_response_body.complete
2025-04-13 22:36:56,960 - DEBUG - response_closed.started
2025-04-13 22:36:56,960 - DEBUG - response_closed.complete
2025-04-13 22:36:56,960 - DEBUG - Response status code: 200
2025-04-13 22:36:56,961 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:57 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '59', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'n2UnQaPvuh8UK7ZjW9d2GfYYELIHtWrK5Kye1tCxK6lzAjnxD8HMLw=='})
2025-04-13 22:36:56,961 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=b3eafdcab179a89aa2c19fa161dea8661b41c4475770ec996bcfa52e97783339","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=bbd4f5862a5a4d8642968bf543284ac96b610c5e2a6400ddfeaca7c76b494ca9","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=fa0e542a2adf868ae50cb756319e3438cdd8eaedc8750d05c698fb4ab4ca1947","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ea87617f2b413654a67b18612a8a8968103740e3f47b2e61c2f89d5e1dbdcd1a","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:56,962 - INFO - finished getting database info
2025-04-13 22:36:56,962 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:36:56,963 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:36:56,963 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:36:56,963 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:36:56,963 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:36:56,963 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:56,963 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:36:56,963 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:36:57,062 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9edb0>
2025-04-13 22:36:57,063 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:36:57,117 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9e960>
2025-04-13 22:36:57,117 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:36:57,118 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,118 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:36:57,118 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,118 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:36:57,183 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:36:57 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:36:57,184 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:36:57,184 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:36:57,184 - DEBUG - receive_response_body.complete
2025-04-13 22:36:57,185 - DEBUG - response_closed.started
2025-04-13 22:36:57,185 - DEBUG - response_closed.complete
2025-04-13 22:36:57,185 - DEBUG - Response status code: 200
2025-04-13 22:36:57,185 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:36:57 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:36:57,185 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:36:57,186 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:36:57,355 - INFO - getting database info
2025-04-13 22:36:57,366 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:57,366 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:57,367 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,367 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,367 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,367 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,367 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,458 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:57 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'49'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Hd36jVHgW_abmOvYZEegp65zXCRFCWlaWk-lMrdMclSaujmjsd1oZg==')])
2025-04-13 22:36:57,460 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:57,460 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,460 - DEBUG - receive_response_body.complete
2025-04-13 22:36:57,460 - DEBUG - response_closed.started
2025-04-13 22:36:57,460 - DEBUG - response_closed.complete
2025-04-13 22:36:57,461 - DEBUG - Response status code: 200
2025-04-13 22:36:57,461 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:57 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '49', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Hd36jVHgW_abmOvYZEegp65zXCRFCWlaWk-lMrdMclSaujmjsd1oZg=='})
2025-04-13 22:36:57,461 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=b3eafdcab179a89aa2c19fa161dea8661b41c4475770ec996bcfa52e97783339","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=bbd4f5862a5a4d8642968bf543284ac96b610c5e2a6400ddfeaca7c76b494ca9","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=fa0e542a2adf868ae50cb756319e3438cdd8eaedc8750d05c698fb4ab4ca1947","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ea87617f2b413654a67b18612a8a8968103740e3f47b2e61c2f89d5e1dbdcd1a","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:57,462 - INFO - finished getting database info
2025-04-13 22:36:57,463 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:36:57,486 - INFO - getting database info
2025-04-13 22:36:57,502 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:57,502 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:57,503 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,503 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,503 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,503 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,503 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,599 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:57 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'59'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'LXMB8Cuiz8qJv2g0jDZGW4ERo9OccDQxBi_8LdVspJOUeBgrtD8rFw==')])
2025-04-13 22:36:57,599 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:57,599 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,600 - DEBUG - receive_response_body.complete
2025-04-13 22:36:57,600 - DEBUG - response_closed.started
2025-04-13 22:36:57,600 - DEBUG - response_closed.complete
2025-04-13 22:36:57,600 - DEBUG - Response status code: 200
2025-04-13 22:36:57,600 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:57 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '59', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'LXMB8Cuiz8qJv2g0jDZGW4ERo9OccDQxBi_8LdVspJOUeBgrtD8rFw=='})
2025-04-13 22:36:57,600 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=b3eafdcab179a89aa2c19fa161dea8661b41c4475770ec996bcfa52e97783339","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=bbd4f5862a5a4d8642968bf543284ac96b610c5e2a6400ddfeaca7c76b494ca9","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=fa0e542a2adf868ae50cb756319e3438cdd8eaedc8750d05c698fb4ab4ca1947","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ea87617f2b413654a67b18612a8a8968103740e3f47b2e61c2f89d5e1dbdcd1a","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:57,601 - INFO - finished getting database info
2025-04-13 22:36:57,601 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:36:57,601 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:36:57,601 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:36:57,601 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:57,601 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'roles_selected', 'success': True, 'timestamp': '2025-04-14T03:36:57.601924', 'details': None}}}
2025-04-13 22:36:57,602 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:36:57,602 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,602 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:36:57,602 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,602 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:36:57,658 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:36:57 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:36:57,658 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:36:57,658 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:36:57,658 - DEBUG - receive_response_body.complete
2025-04-13 22:36:57,658 - DEBUG - response_closed.started
2025-04-13 22:36:57,658 - DEBUG - response_closed.complete
2025-04-13 22:36:57,658 - DEBUG - Response status code: 200
2025-04-13 22:36:57,658 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:36:57 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:36:57,658 - DEBUG - Response text: {"status":{"insertedIds":["dae93607-2371-4d53-a936-0723717d53d6"]}}
2025-04-13 22:36:57,658 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:36:57,658 - DEBUG - Logged verification attempt for friendzoneme at stage roles_selected
2025-04-13 22:36:57,826 - INFO - getting database info
2025-04-13 22:36:57,831 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:57,831 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:57,831 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,832 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,832 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,832 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,832 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,932 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:58 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'55'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'Aq3C3ToAYXpYSzTVrBICgvhDtO-NxVdpWGw4AimxHWnhtf679qAgEg==')])
2025-04-13 22:36:57,932 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:57,932 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,933 - DEBUG - receive_response_body.complete
2025-04-13 22:36:57,933 - DEBUG - response_closed.started
2025-04-13 22:36:57,933 - DEBUG - response_closed.complete
2025-04-13 22:36:57,933 - DEBUG - Response status code: 200
2025-04-13 22:36:57,933 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:58 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '55', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'Aq3C3ToAYXpYSzTVrBICgvhDtO-NxVdpWGw4AimxHWnhtf679qAgEg=='})
2025-04-13 22:36:57,933 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=b3eafdcab179a89aa2c19fa161dea8661b41c4475770ec996bcfa52e97783339","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=bbd4f5862a5a4d8642968bf543284ac96b610c5e2a6400ddfeaca7c76b494ca9","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=fa0e542a2adf868ae50cb756319e3438cdd8eaedc8750d05c698fb4ab4ca1947","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033657Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ea87617f2b413654a67b18612a8a8968103740e3f47b2e61c2f89d5e1dbdcd1a","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:57,934 - INFO - finished getting database info
2025-04-13 22:36:57,934 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:36:57,945 - INFO - getting database info
2025-04-13 22:36:57,951 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:36:57,951 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:57,951 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:36:57,951 - DEBUG - send_request_headers.complete
2025-04-13 22:36:57,951 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:36:57,952 - DEBUG - send_request_body.complete
2025-04-13 22:36:57,952 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:36:58,097 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:36:58 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'54'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'VnayMYFtzljr4w1dF9rUxrf9FfR2e4veOXx0BqXTmGZXtzehgVkMPQ==')])
2025-04-13 22:36:58,097 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:36:58,097 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:36:58,097 - DEBUG - receive_response_body.complete
2025-04-13 22:36:58,097 - DEBUG - response_closed.started
2025-04-13 22:36:58,097 - DEBUG - response_closed.complete
2025-04-13 22:36:58,097 - DEBUG - Response status code: 200
2025-04-13 22:36:58,097 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:36:58 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '54', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 f30155fc22f21e6f2441bda9e26bb9f2.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'VnayMYFtzljr4w1dF9rUxrf9FfR2e4veOXx0BqXTmGZXtzehgVkMPQ=='})
2025-04-13 22:36:58,097 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033658Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=dbf23e3c056e933622ab6783f6c967b82c43245873cc27c74967158e3a052533","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033658Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=685c0ba66c25eaf4b3f577d19bb62004cdeb9c1a6db9d46da9690b9efee782f2","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033658Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=a43119f43857682a8e46ef7c0a489c1e5bfd16dc7c7990011d760759e62183d9","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033658Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=6d86dcd71b932ca5cbebd8209cfb7e8261de9e404d5228999db3e79891728eef","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:36:58,098 - INFO - finished getting database info
2025-04-13 22:36:58,098 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:36:58,099 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:36:58,099 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:36:58,099 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:36:58,099 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'awaiting_approval', 'success': True, 'timestamp': '2025-04-14T03:36:58.099260', 'details': None}}}
2025-04-13 22:36:58,099 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:36:58,099 - DEBUG - send_request_headers.complete
2025-04-13 22:36:58,099 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:36:58,099 - DEBUG - send_request_body.complete
2025-04-13 22:36:58,099 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:36:58,166 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:36:58 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:36:58,166 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:36:58,166 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:36:58,166 - DEBUG - receive_response_body.complete
2025-04-13 22:36:58,166 - DEBUG - response_closed.started
2025-04-13 22:36:58,166 - DEBUG - response_closed.complete
2025-04-13 22:36:58,166 - DEBUG - Response status code: 200
2025-04-13 22:36:58,166 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:36:58 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:36:58,166 - DEBUG - Response text: {"status":{"insertedIds":["2ffe1518-569c-4571-be15-18569cc57126"]}}
2025-04-13 22:36:58,166 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:36:58,166 - DEBUG - Logged verification attempt for friendzoneme at stage awaiting_approval
2025-04-13 22:37:11,284 - INFO - getting database info
2025-04-13 22:37:11,296 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:37:11,296 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:37:11,297 - DEBUG - close.started
2025-04-13 22:37:11,297 - DEBUG - close.complete
2025-04-13 22:37:11,297 - DEBUG - close.started
2025-04-13 22:37:11,297 - DEBUG - close.complete
2025-04-13 22:37:11,297 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:37:11,310 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10b5ff890>
2025-04-13 22:37:11,310 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:37:11,329 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb86cc0>
2025-04-13 22:37:11,329 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:37:11,329 - DEBUG - send_request_headers.complete
2025-04-13 22:37:11,329 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:37:11,330 - DEBUG - send_request_body.complete
2025-04-13 22:37:11,330 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:37:11,497 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:37:11 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'56'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 83145dec40eefa09519caf823858554e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'd_KW7zLi2STRQNujPLBlzBKirZaVGB07AR-8cOpQIh0BemOfnKZs-Q==')])
2025-04-13 22:37:11,497 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:37:11,498 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:37:11,498 - DEBUG - receive_response_body.complete
2025-04-13 22:37:11,499 - DEBUG - response_closed.started
2025-04-13 22:37:11,499 - DEBUG - response_closed.complete
2025-04-13 22:37:11,499 - DEBUG - Response status code: 200
2025-04-13 22:37:11,499 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:37:11 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '56', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 83145dec40eefa09519caf823858554e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'd_KW7zLi2STRQNujPLBlzBKirZaVGB07AR-8cOpQIh0BemOfnKZs-Q=='})
2025-04-13 22:37:11,500 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=de29c906720afe6126654aabe35ed4d4af6a551525d0d26a7d36f2691e99e1c6","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4459a1d0d9b3918e478503ac157393faefc6542fbb148a446372b48449ae7e9b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=812c170e02086757c9daab33ea4b4d77d542c43535bb650485d36d7f90ada9a3","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=95e60350f41c49719f3da2a8fbdd94457ec002264d7665cf8f3baf17a0ef0f7c","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:37:11,501 - INFO - finished getting database info
2025-04-13 22:37:11,502 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:37:11,517 - INFO - getting database info
2025-04-13 22:37:11,527 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:37:11,527 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:37:11,527 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:37:11,527 - DEBUG - send_request_headers.complete
2025-04-13 22:37:11,527 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:37:11,527 - DEBUG - send_request_body.complete
2025-04-13 22:37:11,527 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:37:11,630 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:37:11 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'60'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 83145dec40eefa09519caf823858554e.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'k0krjw8wQc17lwSnM4i3LLoz7mHeBEMi2SM-xUpafPFVHGivgeCDjA==')])
2025-04-13 22:37:11,631 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:37:11,631 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:37:11,632 - DEBUG - receive_response_body.complete
2025-04-13 22:37:11,632 - DEBUG - response_closed.started
2025-04-13 22:37:11,632 - DEBUG - response_closed.complete
2025-04-13 22:37:11,632 - DEBUG - Response status code: 200
2025-04-13 22:37:11,632 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:37:11 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '60', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 83145dec40eefa09519caf823858554e.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'k0krjw8wQc17lwSnM4i3LLoz7mHeBEMi2SM-xUpafPFVHGivgeCDjA=='})
2025-04-13 22:37:11,633 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=de29c906720afe6126654aabe35ed4d4af6a551525d0d26a7d36f2691e99e1c6","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=4459a1d0d9b3918e478503ac157393faefc6542fbb148a446372b48449ae7e9b","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=812c170e02086757c9daab33ea4b4d77d542c43535bb650485d36d7f90ada9a3","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033711Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=95e60350f41c49719f3da2a8fbdd94457ec002264d7665cf8f3baf17a0ef0f7c","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:37:11,634 - INFO - finished getting database info
2025-04-13 22:37:11,634 - DEBUG - Retrieved guild_verification_settings collection: guild_verification_settings
2025-04-13 22:37:11,636 - INFO - creating iterator on 'guild_verification_settings'
2025-04-13 22:37:11,636 - INFO - finished creating iterator on 'guild_verification_settings'
2025-04-13 22:37:11,636 - INFO - command=find on 'guild_verification_settings'
2025-04-13 22:37:11,636 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings
2025-04-13 22:37:11,636 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:37:11,636 - DEBUG - Request payload: {'find': {'filter': {'guild_id': 1203206010269859850}, 'options': {'limit': 1}}}
2025-04-13 22:37:11,636 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:37:11,676 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9d9d0>
2025-04-13 22:37:11,677 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:37:11,731 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9c3b0>
2025-04-13 22:37:11,732 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:37:11,732 - DEBUG - send_request_headers.complete
2025-04-13 22:37:11,732 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:37:11,733 - DEBUG - send_request_body.complete
2025-04-13 22:37:11,733 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:37:11,786 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:37:11 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'311'), (b'Connection', b'keep-alive')])
2025-04-13 22:37:11,788 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/guild_verification_settings "HTTP/1.1 200 OK"
2025-04-13 22:37:11,788 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:37:11,788 - DEBUG - receive_response_body.complete
2025-04-13 22:37:11,788 - DEBUG - response_closed.started
2025-04-13 22:37:11,788 - DEBUG - response_closed.complete
2025-04-13 22:37:11,788 - DEBUG - Response status code: 200
2025-04-13 22:37:11,788 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:37:11 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '311', 'connection': 'keep-alive'})
2025-04-13 22:37:11,789 - DEBUG - Response text: {"data":{"documents":[{"_id":"6082755f-9e63-45e7-8275-5f9e63d5e7a2","guild_id":1203206010269859850,"enabled":true,"admin_channel_name":"emp-chat","guest_role_name":"Guest","roles_channel_name":"roles","rules_channel_name":"rules","verified_role_name":"Verified","admin_role_name":"Mods"}],"nextPageState":null}}
2025-04-13 22:37:11,789 - INFO - finished command=find on 'guild_verification_settings'
2025-04-13 22:38:12,975 - INFO - getting database info
2025-04-13 22:38:12,982 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:38:12,982 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:38:12,982 - DEBUG - close.started
2025-04-13 22:38:12,982 - DEBUG - close.complete
2025-04-13 22:38:12,982 - DEBUG - close.started
2025-04-13 22:38:12,982 - DEBUG - close.complete
2025-04-13 22:38:12,982 - DEBUG - connect_tcp.started host='api.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:38:13,000 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9e7e0>
2025-04-13 22:38:13,000 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='api.astra.datastax.com' timeout=30000
2025-04-13 22:38:13,021 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb9e840>
2025-04-13 22:38:13,022 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:38:13,022 - DEBUG - send_request_headers.complete
2025-04-13 22:38:13,022 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:38:13,022 - DEBUG - send_request_body.complete
2025-04-13 22:38:13,022 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:38:13,191 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:38:13 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 d2fb2c2e894a4859713eb3b4c93f9826.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'r6dqvbYEhRprscn-VeCbzwgEDWJS4bnxVdVlh553VBFp5ltlPY3n4A==')])
2025-04-13 22:38:13,192 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:38:13,192 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:38:13,192 - DEBUG - receive_response_body.complete
2025-04-13 22:38:13,193 - DEBUG - response_closed.started
2025-04-13 22:38:13,193 - DEBUG - response_closed.complete
2025-04-13 22:38:13,193 - DEBUG - Response status code: 200
2025-04-13 22:38:13,193 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:38:13 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 d2fb2c2e894a4859713eb3b4c93f9826.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': 'r6dqvbYEhRprscn-VeCbzwgEDWJS4bnxVdVlh553VBFp5ltlPY3n4A=='})
2025-04-13 22:38:13,193 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=1f6e779a86b9867c4b3c40d1c95a8628d366686c09715a7fc07c93d8e2cc9a0c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=52cb2147ac6621d3bdcac875bdadaa77dc0b7fa8ca9366e2b3d2c7da81155667","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=65b6de81bf609ee350be8652abe7807bb37d36699e1d7e9f22b41a69e8e1f237","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ca25ff2a815b5a5d6f44551b892ed84af6e4260557d60630c1bed526517ae481","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:38:13,195 - INFO - finished getting database info
2025-04-13 22:38:13,195 - DEBUG - Database connection established: bot-nonprod
2025-04-13 22:38:13,209 - INFO - getting database info
2025-04-13 22:38:13,216 - DEBUG - Request URL: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f
2025-04-13 22:38:13,216 - DEBUG - Request headers: {'Authorization': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:38:13,216 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-04-13 22:38:13,217 - DEBUG - send_request_headers.complete
2025-04-13 22:38:13,217 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-04-13 22:38:13,217 - DEBUG - send_request_body.complete
2025-04-13 22:38:13,217 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-04-13 22:38:13,313 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Date', b'Mon, 14 Apr 2025 03:38:13 GMT'), (b'Server', b'istio-envoy'), (b'x-envoy-upstream-service-time', b'57'), (b'Content-Encoding', b'gzip'), (b'Vary', b'accept-encoding'), (b'X-Cache', b'Miss from cloudfront'), (b'Via', b'1.1 d2fb2c2e894a4859713eb3b4c93f9826.cloudfront.net (CloudFront)'), (b'X-Amz-Cf-Pop', b'DFW57-P9'), (b'X-Amz-Cf-Id', b'9W3haYiECLsEF4yMGU-3Gokuy5iZMR42zpTCkqvHAkavImU7v9TXBA==')])
2025-04-13 22:38:13,314 - INFO - HTTP Request: GET https://api.astra.datastax.com/v2/databases/423500a3-4b2a-4795-9d8e-042894a9ca0f "HTTP/1.1 200 OK"
2025-04-13 22:38:13,314 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-04-13 22:38:13,314 - DEBUG - receive_response_body.complete
2025-04-13 22:38:13,314 - DEBUG - response_closed.started
2025-04-13 22:38:13,314 - DEBUG - response_closed.complete
2025-04-13 22:38:13,315 - DEBUG - Response status code: 200
2025-04-13 22:38:13,315 - DEBUG - Response headers: Headers({'content-type': 'application/json; charset=UTF-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Mon, 14 Apr 2025 03:38:13 GMT', 'server': 'istio-envoy', 'x-envoy-upstream-service-time': '57', 'content-encoding': 'gzip', 'vary': 'accept-encoding', 'x-cache': 'Miss from cloudfront', 'via': '1.1 d2fb2c2e894a4859713eb3b4c93f9826.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'DFW57-P9', 'x-amz-cf-id': '9W3haYiECLsEF4yMGU-3Gokuy5iZMR42zpTCkqvHAkavImU7v9TXBA=='})
2025-04-13 22:38:13,315 - DEBUG - Response text: {"availableActions":["getCreds","addDatacenters","cloneDatabaseFromSnapshot","terminateDatacenter","migrateServerlessTenant","terminate","addKeyspace","removeKeyspace","suspend","createServerlessMigrationProxy","removeServerlessMigrationProxy","updateVectorAgent","getVectorAgentConfig","hibernate","migrate"],"cost":{"costPerDayCents":0,"costPerDayMRCents":0,"costPerDayParkedCents":0,"costPerHourCents":0,"costPerHourMRCents":0,"costPerHourParkedCents":0,"costPerMinCents":0,"costPerMinMRCents":0,"costPerMinParkedCents":0,"costPerMonthCents":0,"costPerMonthMRCents":0,"costPerMonthParkedCents":0,"costPerNetworkGbCents":0,"costPerReadGbCents":0.1,"costPerWrittenGbCents":0.1},"cqlshUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/cqlsh","creationTime":"2025-03-18T18:06:19Z","dataEndpointUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/rest","grafanaUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.dashboard.astra.datastax.com/d/cloud/dse-cluster-condensed?refresh=30s\u0026orgId=1\u0026kiosk=tv","graphqlUrl":"https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/graphql","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f","info":{"capacityUnits":1,"cloudProvider":"AWS","datacenters":[{"capacityUnits":1,"cloudProvider":"AWS","dateCreated":"2025-03-18T18:06:19Z","id":"423500a3-4b2a-4795-9d8e-042894a9ca0f-1","isPrimary":true,"name":"dc-1","region":"us-east-2","regionClassification":"standard","regionZone":"na","requestedNodeCount":3,"secureBundleInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=1f6e779a86b9867c4b3c40d1c95a8628d366686c09715a7fc07c93d8e2cc9a0c","secureBundleMigrationProxyInternalUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-internal-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=52cb2147ac6621d3bdcac875bdadaa77dc0b7fa8ca9366e2b3d2c7da81155667","secureBundleMigrationProxyUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-proxy-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=65b6de81bf609ee350be8652abe7807bb37d36699e1d7e9f22b41a69e8e1f237","secureBundleUrl":"https://datastax-cluster-config-prod.s3.us-east-2.amazonaws.com/423500a3-4b2a-4795-9d8e-042894a9ca0f-1/secure-connect-bot-nonprod.zip?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIA2AIQRQ76XML7FLD6%2F20250414%2Fus-east-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20250414T033813Z\u0026X-Amz-Expires=300\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Signature=ca25ff2a815b5a5d6f44551b892ed84af6e4260557d60630c1bed526517ae481","status":"","streamingTenant":{"streamingClusterName":"","streamingTenantName":""},"tier":"serverless"}],"dbType":"vector","keyspace":"default_keyspace","keyspaces":["default_keyspace"],"name":"bot-nonprod","region":"us-east-2","tier":"serverless"},"lastUsageTime":"2025-04-14T03:35:30Z","metrics":{"errorsTotalCount":0,"liveDataSizeBytes":0,"readRequestsTotalCount":0,"writeRequestsTotalCount":0},"observedStatus":"ACTIVE","orgId":"dbf4fbca-5230-4f13-a4dd-cf93f4417c4a","ownerId":"3965536c-2808-4f11-a974-63b53919ec89","status":"ACTIVE","storage":{"displayStorage":10,"nodeCount":3,"replicationFactor":1,"totalStorage":5},"terminationTime":"0001-01-01T00:00:00Z"}
2025-04-13 22:38:13,317 - INFO - finished getting database info
2025-04-13 22:38:13,317 - DEBUG - Retrieved verification_attempts collection: verification_attempts
2025-04-13 22:38:13,319 - INFO - insertOne on 'verification_attempts'
2025-04-13 22:38:13,319 - DEBUG - Request URL: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts
2025-04-13 22:38:13,319 - DEBUG - Request headers: {'Token': '***', 'User-Agent': 'astrapy/1.5.2', 'Content-Type': 'application/json'}
2025-04-13 22:38:13,319 - DEBUG - Request payload: {'insertOne': {'document': {'user_id': '1258982506439507999', 'username': 'friendzoneme', 'guild_id': '1203206010269859850', 'stage': 'approved', 'success': True, 'timestamp': '2025-04-14T03:38:13.319168', 'details': None}}}
2025-04-13 22:38:13,319 - DEBUG - connect_tcp.started host='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' port=443 local_address=None timeout=30000 socket_options=None
2025-04-13 22:38:13,392 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bbaa150>
2025-04-13 22:38:13,392 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10423ca50> server_hostname='423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com' timeout=30000
2025-04-13 22:38:13,443 - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bbaa2d0>
2025-04-13 22:38:13,443 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-13 22:38:13,444 - DEBUG - send_request_headers.complete
2025-04-13 22:38:13,444 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-13 22:38:13,444 - DEBUG - send_request_body.complete
2025-04-13 22:38:13,444 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-13 22:38:13,507 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'openresty/1.25.3.1'), (b'Date', b'Mon, 14 Apr 2025 03:38:13 GMT'), (b'Content-Type', b'application/json;charset=UTF-8'), (b'Content-Length', b'67'), (b'Connection', b'keep-alive')])
2025-04-13 22:38:13,508 - INFO - HTTP Request: POST https://423500a3-4b2a-4795-9d8e-042894a9ca0f-us-east-2.apps.astra.datastax.com/api/json/v1/default_keyspace/verification_attempts "HTTP/1.1 200 OK"
2025-04-13 22:38:13,508 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-13 22:38:13,508 - DEBUG - receive_response_body.complete
2025-04-13 22:38:13,508 - DEBUG - response_closed.started
2025-04-13 22:38:13,508 - DEBUG - response_closed.complete
2025-04-13 22:38:13,508 - DEBUG - Response status code: 200
2025-04-13 22:38:13,509 - DEBUG - Response headers: Headers({'server': 'openresty/1.25.3.1', 'date': 'Mon, 14 Apr 2025 03:38:13 GMT', 'content-type': 'application/json;charset=UTF-8', 'content-length': '67', 'connection': 'keep-alive'})
2025-04-13 22:38:13,509 - DEBUG - Response text: {"status":{"insertedIds":["f21153af-3b08-45c8-9153-af3b0815c8b5"]}}
2025-04-13 22:38:13,509 - INFO - finished insertOne on 'verification_attempts'
2025-04-13 22:38:13,509 - DEBUG - Logged verification attempt for friendzoneme at stage approved
2025-04-13 22:39:35,774 - INFO - Unloading VerificationCog...
Exception ignored in: <module 'threading' from '/Users/mangat.rai/.pyenv/versions/3.12.3/lib/python3.12/threading.py'>
Traceback (most recent call last):
  File "/Users/mangat.rai/.pyenv/versions/3.12.3/lib/python3.12/threading.py", line 1622, in _shutdown
    lock.acquire()
KeyboardInterrupt: 
2025-04-13 22:39:36,177 - DEBUG - close.started
2025-04-13 22:39:36,178 - DEBUG - close.complete
